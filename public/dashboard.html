<!doctype html>

<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Reservat칩rios HAG - Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Monitoramento dos Reservat칩rios</h1>
    <div class="top-actions">
      <button id="logoutBtn">Sair</button>
      <span class="last-update" id="lastUpdate"></span>
    </div>
  </header>

  <main>
    <section id="cards"></section>

```
<section id="charts">
  <h2>Hist칩rico (칰ltimas 24h)</h2>
  <canvas id="chartCanvas" width="1200" height="360"></canvas>
</section>

<section id="tableSection">
  <h2>Leituras (칰ltimas 24h)</h2>
  <div id="tableWrap"></div>
</section>
```

  </main>

  <!-- Script principal -->

  <script src="script.js"></script>

  <script>
    // 游댃 Atualiza as leituras automaticamente a cada 10 segundos
    function atualizarDashboard() {
      fetch("/api/data")
        .then(res => res.json())
        .then(dados => {
          // Atualiza o conte칰do da dashboard (fun칞칚o vinda de script.js)
          updateDashboard(dados);

          // Mostra o hor치rio da 칰ltima atualiza칞칚o
          const dataAgora = new Date().toLocaleString("pt-BR");
          document.getElementById("lastUpdate").textContent =
            "칔ltima atualiza칞칚o: " + dataAgora;
        })
        .catch(err => console.error("Erro ao atualizar:", err));
    }

    // Primeira atualiza칞칚o imediata ao abrir a p치gina
    atualizarDashboard();

    // Repetir atualiza칞칚o a cada 10 segundos
    setInterval(atualizarDashboard, 10000);
  </script>

</body>
</html>
